
<div class="page">
  <h2 class="title mb-4">Admin Dashboard</h2>

  <!-- Tabs -->
  <ul class="nav nav-tabs" id="adminTabs" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="questions-tab" data-bs-toggle="tab" data-bs-target="#questions" type="button" role="tab">
        Pending Questions
      </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="answers-tab" data-bs-toggle="tab" data-bs-target="#answers" type="button" role="tab">
        Pending Answers
      </button>
    </li>
    
    <!-- NEW: Users tab that navigates to /admin/users -->
    <li class="nav-item" role="presentation">
      <a
        class="nav-link"
        [routerLink]="['/admin/users']"
        routerLinkActive="active"
        >
        Users
      </a>
    </li>
  </ul>

  <!-- Tab Content -->
  <div class="tab-content mt-3" id="adminTabsContent">

    <!-- Pending Questions -->
    <div class="tab-pane fade show active" id="questions" role="tabpanel">
      <ng-container *ngIf="questions.length; else noQuestions">
        <div *ngFor="let q of questions" class="card shadow-sm mb-3 q-card">
          <div class="card-body">
            <h5 class="card-title">{{ q.title }}</h5>
            <p class="card-text">
              {{ q.text | slice:0:150 }}{{ q.text?.length > 150 ? '…' : '' }}
            </p>
            <div class="d-flex gap-2">
              <button class="btn btn-outline-success" (click)="approveQuestion(q.id)">
                <i class="bi bi-check-circle"></i> Approve
              </button>
              <button class="btn btn-outline-danger" (click)="rejectQuestion(q.id)">
                <i class="bi bi-x-circle"></i> Reject
              </button>
            </div>
          </div>
        </div>
      </ng-container>
      <ng-template #noQuestions>
        <p class="empty text-muted">No pending questions</p>
      </ng-template>
    </div>

    <!-- Pending Answers -->
    <div class="tab-pane fade" id="answers" role="tabpanel">
      <ng-container *ngIf="answers.length; else noAnswers">
        <div *ngFor="let a of answers" class="card shadow-sm mb-3 q-card">
          <div class="card-body">
            <h5 class="card-title">Answer to: {{ a.questionTitle }}</h5>
            <p class="card-text">
              {{ a.text | slice:0:150 }}{{ a.text?.length > 150 ? '…' : '' }}
            </p>
            <div class="d-flex gap-2">
              <button class="btn btn-outline-success" (click)="approveAnswer(a.id)">
                <i class="bi bi-check-circle"></i> Approve
              </button>
              <button class="btn btn-outline-danger" (click)="onReject(a.id)">
                <i class="bi bi-x-circle"></i> Reject
              </button>
            </div>
          </div>
        </div>

        <!--usersnav item-->
        

          
      </ng-container>
      <ng-template #noAnswers>
        <p class="empty text-muted">No pending answers</p>
      </ng-template>
    </div>

  </div>
</div>
